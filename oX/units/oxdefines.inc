{ COMMON DEFINES }

{$MODE OBJFPC}
{$H+}
{$MODESWITCH ADVANCEDRECORDS}
{$MODESWITCH TYPEHELPERS}

{$DEFINE OX_PLATFORM_SUPPORT}

{ HANDLE LIBRARY }

{$IFDEF OX_LIBRARY}
   {$UNDEF OX_PLATFORM_SUPPORT}
   {$DEFINE OX_LIBRARY_SUPPORT}
{$ENDIF}

{ SETUP PLATFORM FOR UNIX-LIKE ENVIRONMENTS }

{$IFDEF UNIX}
   {$IF defined(DARWIN) and not defined(X11)}
      {$DEFINE COCOA}
   {$ELSE}
      {$DEFINE X11}
   {$ENDIF}
{$ENDIF}

{ SETUP DEFAULT FEATURES }

{$IFNDEF OX_NO_DEFAULT_FEATURES}
   {$IFNDEF OX_NO_RENDERERS}
      {$DEFINE OX_RENDERER_GL}
      {$DEFINE OX_RENDERER_CONSOLE}
      {$DEFINE OX_RENDERER_VULKAN}

      {$IFDEF WINDOWS}
         {$DEFINE OX_RENDERER_DX11}
      {$ENDIF}
   {$ENDIF}

   {$IFNDEF OX_LIBRARY}
      {$DEFINE OX_FEATURE_CONTROLLERS}
   {$ENDIF}

   {$IFNDEF NOLOG}
      {$DEFINE OX_FEATURE_HTML_LOG}
   {$ENDIF}

   {$DEFINE OX_FEATURE_AUDIO}
   {$DEFINE OX_FEATURE_AL_AUDIO}
   {$DEFINE OX_FEATURE_UI}
   {$DEFINE OX_FEATURE_FREETYPE}
   {$DEFINE OX_FEATURE_MODELS}

   {$IFNDEF OX_LIBRARY}
      {$DEFINE OX_FEATURE_CONSOLE}
      {$DEFINE OX_FEATURE_WND_ABOUT}
   {$ENDIF}

   {$DEFINE OX_FEATURE_SCENE}
{$ENDIF}

{ REMOVE UNSUPPORTED FEATURES PER PLATFORM }

{$IFDEF ANDROID}
   {$UNDEFINE OX_FEATURE_CONSOLE}
{$ENDIF}

{$IFDEF DARWIN}
   {$IFDEF CPU32}
      {$UNDEF OX_FEATURE_FREETYPE}
   {$ENDIF}
{$ENDIF}

{ DEBUG }
{$IFDEF DEBUG}
   {$DEFINE OX_DEBUG}
{$ENDIF}

{if debug is not defined, and this is not a relase version, define DEBUG symbol}
{$IFNDEF OX_DEBUG}
   {$IFNDEF OX_RELEASE}
      {$DEFINE OX_DEBUG}
   {$ENDIF}
{$ENDIF}

{ CUSTOM OPTIONS }

{$IFDEF OX_PROJECT_DEFINES}
   {$INCLUDE oxprojectdefines.inc}
{$ENDIF}

